@model List<Blog>
@{
    // 转换后台数据
    var categorys = ViewData["categorys"] as List<Category>;
}
<!DOCTYPE html>
<html>
<head>
    <title>首页</title>
</head>
<body>
    <h1>欢迎</h1>
    <a asp-action="/category">分类</a>
    <a asp-action="/vueform">VueForm</a>
    <a asp-action="/vueform">VueForm</a>
    @*form提交一个对象*@
    <form asp-action="/add" method="post">
        <div>
            <span>Url:</span>
            <input type="text" name="blog.url" />
        </div>
        <br />
        <div>
            <p>1</p>
            <span>Title:</span>
            @* 这样的 name 名称可以在后台使用实体类接受数据 *@
            <input type="text" name="blog.posts[0].title" />
            <span>content:</span>
            <input type="text" name="blog.posts[0].content" />
        </div>
        <div>
            <p>2</p>
            <span>Title:</span>
            <input type="text" name="blog.posts[1].title" />
            <span>content:</span>
            <input type="text" name="blog.posts[1].content" />
        </div>
        <div id="app">
            
            <p>@categorys.Count</p>

                @foreach (var c in categorys)
                {
                    //多对多类选择 value='id' 然后再后台构造实体转
                    <label>
                        <input type="checkbox" name="categorys" value="@c.CategoryId" />
                        @c.Name
                    </label>
                }
        </div>
        <button type="submit">提交保存</button>
    </form>
    <p>@Model.Count</p>
    @foreach (var item in Model)
    {
        <h3>@item.Url</h3>
        <ul>
            @foreach (var c in item.BlogCategorys)
            {
                <li>@c.Category.Name</li>
            }
        </ul>
        if (item.Posts.Count > 0)
        {
            <table>
                <tr>
                    <th>Title</th>
                    <th>Content</th>
                </tr>
                @foreach (var post in item.Posts)
                {
                    <tr>
                        <td>@post.Title</td>
                        <td>@post.Content</td>
                    </tr>
                }
            </table>
        }
    }
    
</body>
</html>
